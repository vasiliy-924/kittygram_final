[![Main Kittygram workflow](https://github.com/vasiliy-924/kittygram_final/actions/workflows/main.yml/badge.svg)](https://github.com/vasiliy-924/kittygram_final/actions/workflows/main.yml)

## –ü—Ä–æ–µ–∫—Ç Kittygram üêà ‚Äì —Å–µ—Ä–≤–∏—Å –¥–ª—è –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–π –æ—Ç –∫–æ—Ç–∏–∫–æ–≤

Kittygram ‚Äî —ç—Ç–æ –≤–µ–±‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –¥–µ–ª–∏—Ç—å—Å—è –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Å–≤–æ–∏—Ö –∫–æ—Ç–∏–∫–æ–≤: —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏ —Å —Ñ–æ—Ç–æ, —Ü–≤–µ—Ç–æ–º, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ –¥—Ä—É–≥–∏—Ö, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å —Å–≤–æ–∏, –∞ —Ç–∞–∫–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** (Token Auth —á–µ—Ä–µ–∑ Djoser)
- **–°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ** –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–æ—Ç–∏–∫–æ–≤
- **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ–¥–∏–∞
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** –∏ —É–¥–æ–±–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–∞—Ä—Ç–æ—á–∫–∞–º
- **REST API** –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

## –°—Ç–µ–∫
- **Backend**: Django 3.2, Django REST Framework, Djoser, PostgreSQL, Gunicorn
- **Frontend**: React (react-scripts), React Router
- **Infra/CI/CD**: Docker, Docker Compose, Nginx, GitHub Actions

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)
–í–∞—Ä–∏–∞–Ω—Ç –±–µ–∑ –ë–î PostgreSQL ‚Äî —Å SQLite:
1. –°–æ–∑–¥–∞–π—Ç–µ `.env` –≤ `backend/` –∏–ª–∏ –≤ –∫–æ—Ä–Ω–µ (—Å–º. —Ä–∞–∑–¥–µ–ª ¬´–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è¬ª), —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `DJANGO_USE_SQLITE=True`.
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä API:
   ```bash
   cd backend
   pip install -r requirements.txt
   export DJANGO_USE_SQLITE=True
   export SECRET_KEY="very_secret_kittygram_key"  # –∏–ª–∏ –∑–∞–¥–∞–π—Ç–µ –≤ .env
   python manage.py migrate
   python manage.py runserver
   ```
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥:
   ```bash
   cd frontend
   npm ci
   npm start
   ```

## –ü—Ä–æ–¥–∞–∫—à–µ–Ω (Docker Compose)
–ü–æ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `docker-compose.production.yml` —Å —Ç—Ä–µ–º—è —Å–µ—Ä–≤–∏—Å–∞–º–∏: `backend`, `frontend`, `gateway` (Nginx) –∏ `db` (PostgreSQL).

1. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ `.env` –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (—Å–º. –Ω–∏–∂–µ). –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω—É–∂–Ω—ã —Å–µ–∫—Ü–∏–∏ –¥–ª—è PostgreSQL –∏ Django.
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
   ```bash
   docker compose -f docker-compose.production.yml pull
   docker compose -f docker-compose.production.yml up -d
   docker compose -f docker-compose.production.yml exec backend python manage.py migrate
   docker compose -f docker-compose.production.yml exec backend python manage.py collectstatic --noinput
   docker compose -f docker-compose.production.yml exec backend cp -r /app/collected_static/. /static/
   ```

–°–æ—Å—Ç–∞–≤ –æ–±—Ä–∞–∑–æ–≤ (–æ–∂–∏–¥–∞—é—Ç—Å—è –ø—É–±–ª–∏—á–Ω—ã–º–∏ –≤ Docker Hub):
- `kittygram_backend`
- `kittygram_frontend`
- `kittygram_gateway`

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
–§–∞–π–ª `.env` —á–∏—Ç–∞–µ—Ç—Å—è —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏–∑ `docker-compose.production.yml` –∏ `backend/kittygram_backend/settings.py`.

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä `.env` –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
```dotenv
# Django
SECRET_KEY=change_me
DJANGO_DEBUG=False
ALLOWED_HOSTS=example.com,www.example.com,127.0.0.1,localhost

# –ë–î PostgreSQL
POSTGRES_DB=django_db
POSTGRES_USER=django_user
POSTGRES_PASSWORD=django_password
DB_HOST=db
DB_PORT=5432

# –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
DJANGO_USE_SQLITE=False
```

–°–µ–∫—Ä–µ—Ç—ã –¥–ª—è CI/CD (GitHub Actions ‚Üí Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí New repository secret):
- `DOCKER_USERNAME`, `DOCKER_PASSWORD`
- `HOST` (–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞), `USER` (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
- `SSH_KEY`, `SSH_PASSPHRASE`
- `TELEGRAM_TO`, `TELEGRAM_TOKEN`

## CI/CD
Workflow —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ —Ñ–∞–π–ª–µ `kittygram_workflow.yml`. –û–Ω:
- –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã –±–µ–∫–µ–Ω–¥–∞ –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞;
- —Å–æ–±–∏—Ä–∞–µ—Ç –∏ –ø—É–±–ª–∏–∫—É–µ—Ç –æ–±—Ä–∞–∑—ã –≤ Docker Hub;
- —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å –ø–æ–º–æ—â—å—é `docker-compose.production.yml`;
- –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram.

–°—Ç–∞—Ç—É—Å —Å–±–æ—Ä–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –±–µ–π–¥–∂ –≤–≤–µ—Ä—Ö—É README. –î–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –±–µ–π–¥–∂ –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –∫–æ–ª–ª–∞–±–æ—Ä–∞–Ω—Ç–∞–º.

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- –ü—Ä–æ–¥: `https://thunderkitty.hopto.org`
- Taski (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–¥–∞–Ω–∏—è): `https://thunderproject.hopto.org/`

## –ê–≤—Ç–æ—Ä
**–í–∞—Å–∏–ª–∏–π –ü–µ—Ç—Ä–æ–≤** - [GitHub https://github.com/vasiliy-924](https://github.com/vasiliy-924)